<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<header style="padding-bottom:50px">
<ul>
	<li style="float:left;padding-right:20px"><a href="../../index.html">Home</a></li>
</ul>
</header>

<style type="text/css">
	div{
		font-size:11pt;
	}
	p{
		text-indent:2em;/*段落缩进*/
		line-height:140%;/*行间距*/
	}
	blockquote {
		background:#f9f9f9;
		border-left:10px solid darkblue;
	}
	blockquote p {
		display:inline;
	}
</style>

<!--code examples

<a href=""></a>

<li><a style="text-decoration:none" href="#"></a></li>

<h2 id=""></h2>

<div style="text-align:center">
	<img  src="">
	<p>图 </p>
	</div>
		
	<sup>sup>

	<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;">
	</div>

	-->


	<div>

		<!--博文标题和作者信息-->
		<h2 style="text-align:center">Popular Cows-Tarjan_SCC</h2>
		<h5 style="text-align:right">update@2011-09-19</h5>
		<div style="background:#fdfdfd;color:black;"><u>C++语言</u>: <a rel="nofollow" href="http://fayaa.com/code/">高亮代码由发芽网提供</a></div><br>     <div style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"> <span style="color: rgb(80, 112, 144);">///省略了头文件等等</span><br> <span style="color: rgb(80, 112, 144);">#define MAX 10010</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> N<span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">M</span>;<br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">head</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">];</span><br> <span style="color: rgb(0, 128, 0); font-weight: bold;">struct</span> <span style="color: rgb(0, 0, 0);">edge_node</span><span style="color: rgb(0, 0, 0);">{</span><span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">next</span><span style="color: rgb(0, 0, 0);">;}</span><span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(48, 48, 48);">*</span><span style="color: rgb(0, 0, 208); font-weight: bold;">5</span><span style="color: rgb(0, 0, 0);">];</span><br> <br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">component_count</span>;<br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(128, 128, 128);">//记录原图中的点属于哪个强连通分量 便于建图</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">point_num</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(128, 128, 128);">//记录某个缩点中原来的个数</span><br> <span style="color: rgb(0, 128, 0); font-weight: bold;">struct</span> <span style="color: rgb(0, 0, 0);">edge_node</span> <span style="color: rgb(0, 0, 0);">contracted</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(48, 48, 48);">*</span><span style="color: rgb(0, 0, 208); font-weight: bold;">5</span><span style="color: rgb(0, 0, 0);">];</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">head2</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">edge_count</span>;<br> <span style="color: rgb(48, 48, 144); font-weight: bold;">void</span> <span style="color: rgb(0, 0, 0);">addEdge2</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">contracted</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">u</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">u</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">contracted</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">v</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">v</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">contracted</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">next</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">head2</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(0, 0, 0);">head2</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(48, 48, 48);">++</span>;<br> <span style="color: rgb(0, 0, 0);">}</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">getNum</span><span style="color: rgb(0, 0, 0);">(){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">zero_outdegree_sum</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">id</span>;<br> &nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">&lt;</span> <span style="color: rgb(0, 0, 0);">component_count</span>;<span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">//遍历所有的缩点 计算出度</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">//出度为0的点是满足要求的缩点，返回该缩点中点的个数</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">//注意 如果有解 出度为0的点有且只有一个</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">out_degree</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">head2</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">!=</span> <span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">contracted</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">k</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">next</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">out_degree</span><span style="color: rgb(48, 48, 48);">++</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">out_degree</span><span style="color: rgb(48, 48, 48);">==</span><span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">){</span><span style="color: rgb(0, 0, 0);">zero_outdegree_sum</span><span style="color: rgb(48, 48, 48);">++</span>;<span style="color: rgb(0, 0, 0);">id</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">i</span>;<span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">zero_outdegree_sum</span> <span style="color: rgb(48, 48, 48);">&gt;</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>)<span style="color: rgb(0, 128, 0); font-weight: bold;">return</span> <span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span><span style="color: rgb(0, 0, 0);">;}</span><br> &nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">zero_outdegree_sum</span> <span style="color: rgb(48, 48, 48);">!=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>)<span style="color: rgb(0, 128, 0); font-weight: bold;">return</span> <span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<br> &nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">return</span> <span style="color: rgb(0, 0, 0);">point_num</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">id</span><span style="color: rgb(0, 0, 0);">];</span><br> <span style="color: rgb(0, 0, 0);">}</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">void</span> <span style="color: rgb(0, 0, 0);">contraction</span><span style="color: rgb(0, 0, 0);">(){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">//将所有强连通分量缩成点 重新建图</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">edge_count</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<span style="color: rgb(128, 128, 128);">//记录新图的边数</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">memset</span>(<span style="color: rgb(0, 0, 0);">head2</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 128, 0); font-weight: bold;">sizeof</span>(<span style="color: rgb(0, 0, 0);">head2</span>));<br> <br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span>&nbsp; <span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span> ;<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">&lt;</span> N;<span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span>&nbsp; <span style="color: rgb(0, 0, 0);">j</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(48, 48, 48);">+</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">j</span> <span style="color: rgb(48, 48, 48);">&lt;=</span> N;<span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">!=</span> <span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">]){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">//如果它们不在同一个缩点中</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">flag</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">head</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">];</span> <span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">!=</span> <span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">k</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">next</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">k</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">v</span> <span style="color: rgb(48, 48, 48);">==</span> <span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">addEdge2</span>(<span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">]);</span><span style="color: rgb(0, 0, 0);">flag</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 128, 0); font-weight: bold;">break</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">flag</span>)<span style="color: rgb(0, 128, 0); font-weight: bold;">continue</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">head</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">];</span> <span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">!=</span> <span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">k</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">k</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">next</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">k</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">v</span> <span style="color: rgb(48, 48, 48);">==</span> <span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">addEdge2</span>(<span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">]);</span><span style="color: rgb(0, 128, 0); font-weight: bold;">break</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> <span style="color: rgb(0, 0, 0);">}</span><br> <br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">dfs_order</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">],</span> <span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">];</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">my_stack</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">visited</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">in_stack</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">MAX</span><span style="color: rgb(0, 0, 0);">];</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">mark_num</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">top</span>;<br> <br> <span style="color: rgb(48, 48, 144); font-weight: bold;">void</span> <span style="color: rgb(0, 0, 0);">tarjan_scc</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">dfs_order</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">mark_num</span><span style="color: rgb(48, 48, 48);">++</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">my_stack</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">top</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">u</span>;<span style="color: rgb(0, 0, 0);">visited</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">in_stack</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<br> <br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">head</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">!=</span> <span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">next</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">v</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">v</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(48, 48, 48);">!</span><span style="color: rgb(0, 0, 0);">visited</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">]){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">tarjan_scc</span>(<span style="color: rgb(0, 0, 0);">v</span>);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">mymin</span>(<span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">]);</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">else</span> <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">in_stack</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">]){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">mymin</span>(<span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">dfs_order</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">]);</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">dfs_order</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">==</span> <span style="color: rgb(0, 0, 0);">lowest</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> p<span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">tota</span><span style="color: rgb(48, 48, 48);">=</span><span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">do</span><span style="color: rgb(0, 0, 0);">{</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">my_stack</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(48, 48, 48);">--</span><span style="color: rgb(0, 0, 0);">top</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(0, 0, 0);">in_stack</span><span style="color: rgb(0, 0, 0);">[</span>p<span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">belong</span><span style="color: rgb(0, 0, 0);">[</span>p<span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">component_count</span>; <span style="color: rgb(0, 0, 0);">tota</span><span style="color: rgb(48, 48, 48);">++</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><span style="color: rgb(0, 128, 0); font-weight: bold;">while</span>(<span style="color: rgb(0, 0, 0);">u</span> <span style="color: rgb(48, 48, 48);">!=</span> p);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">point_num</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">component_count</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">tota</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> <span style="color: rgb(0, 0, 0);">}</span><br> <br> <span style="color: rgb(48, 48, 144); font-weight: bold;">void</span> <span style="color: rgb(0, 0, 0);">addEdge</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">u</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">u</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">v</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">v</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">edge</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(0, 0, 0);">].</span><span style="color: rgb(0, 0, 0);">next</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">head</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">];</span><span style="color: rgb(0, 0, 0);">head</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">u</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">edge_count</span><span style="color: rgb(48, 48, 48);">++</span>;<br> <span style="color: rgb(0, 0, 0);">}</span><br> <br> <span style="color: rgb(128, 128, 128);">///main</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">main</span><span style="color: rgb(0, 0, 0);">(){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">while</span>(<span style="color: rgb(0, 0, 0);">scanf</span>(<span style="background-color: rgb(255, 240, 240);">"%d%d"</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 48);">&amp;</span>N<span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 48);">&amp;</span><span style="color: rgb(0, 0, 0);">M</span>) <span style="color: rgb(48, 48, 48);">!=</span> <span style="color: rgb(0, 0, 0);">EOF</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">edge_count</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<span style="color: rgb(0, 0, 0);">memset</span>(<span style="color: rgb(0, 0, 0);">head</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 128, 0); font-weight: bold;">sizeof</span>(<span style="color: rgb(0, 0, 0);">head</span>));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">&lt;=</span> <span style="color: rgb(0, 0, 0);">M</span>;<span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">a</span><span style="color: rgb(0, 0, 0);">,</span>b;<span style="color: rgb(0, 0, 0);">scanf</span>(<span style="background-color: rgb(255, 240, 240);">"%d%d"</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 48);">&amp;</span><span style="color: rgb(0, 0, 0);">a</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 48);">&amp;</span>b);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">addEdge</span>(<span style="color: rgb(0, 0, 0);">a</span><span style="color: rgb(0, 0, 0);">,</span>b);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">///init begin</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">top</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>; <span style="color: rgb(0, 0, 0);">memset</span>(<span style="color: rgb(0, 0, 0);">visited</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 128, 0); font-weight: bold;">sizeof</span>(<span style="color: rgb(0, 0, 0);">visited</span>));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">memset</span>(<span style="color: rgb(0, 0, 0);">in_stack</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 128, 0); font-weight: bold;">sizeof</span>(<span style="color: rgb(0, 0, 0);">in_stack</span>));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">mark_num</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">component_count</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">memset</span>(<span style="color: rgb(0, 0, 0);">point_num</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 128, 0); font-weight: bold;">sizeof</span>(<span style="color: rgb(0, 0, 0);">point_num</span>));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">///init end</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>;<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">&lt;=</span> N;<span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">visited</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">])</span> <span style="color: rgb(0, 128, 0); font-weight: bold;">continue</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">tarjan_scc</span>(<span style="color: rgb(0, 0, 0);">i</span>);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">contraction</span>();<span style="color: rgb(128, 128, 128);">//缩点操作</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">t</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">getNum</span>();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">t</span><span style="color: rgb(48, 48, 48);">==-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span>)<span style="color: rgb(0, 0, 0);">printf</span>(<span style="background-color: rgb(255, 240, 240);">"0</span><span style="color: rgb(96, 96, 96); font-weight: bold; background-color: rgb(255, 240, 240);">\n</span><span style="background-color: rgb(255, 240, 240);">"</span>);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">else</span> <span style="color: rgb(0, 0, 0);">printf</span>(<span style="background-color: rgb(255, 240, 240);">"%d</span><span style="color: rgb(96, 96, 96); font-weight: bold; background-color: rgb(255, 240, 240);">\n</span><span style="background-color: rgb(255, 240, 240);">"</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">getNum</span>());<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">return</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<br> <span style="color: rgb(0, 0, 0);">}</span><br></div><br><br><hr><br>题目链接:<a rel="nofollow" href="http://poj.grids.cn/practice/2186/">Popular Cows</a><br>把tarjan算法弄懂，然后就是求强连通分量，把所有的强连通分量缩成点，找到一个唯一出度为0的点输出缩成该点的以前的点的个数。为了自己理解方便 写的比较繁琐 效率比较低,其实不用重新建图 .....好累啊 不想写了.
	</div>

