<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<header style="padding-bottom:50px">
<ul>
	<li style="float:left;padding-right:20px"><a href="../../index.html">Home</a></li>
</ul>
</header>

<style type="text/css">
	div{
		font-size:11pt;
	}
	p{
		text-indent:2em;/*段落缩进*/
		line-height:140%;/*行间距*/
	}
	blockquote {
		background:#f9f9f9;
		border-left:10px solid darkblue;
	}
	blockquote p {
		display:inline;
	}
</style>

<!--code examples

<a href=""></a>

<li><a style="text-decoration:none" href="#"></a></li>

<h2 id=""></h2>

<div style="text-align:center">
	<img  src="">
	<p>图 </p>
	</div>
		
	<sup>sup>

	<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;">
	</div>

	-->


<div>

		<!--博文标题和作者信息-->
		<h2 style="text-align:center">The Twin Towers-DP+滚动数组</h2>
		<h5 style="text-align:right">update@2011-08-04</h5>
		      <div style="background:#fdfdfd;color:black;"><br></div>     <div style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: rgb(0, 0, 0); background-color: rgb(249, 247, 237);"> <span style="color: rgb(0, 136, 0); font-style: italic;">//int flag = 0,dp[2][2001]</span><br> <span style="color: rgb(0, 0, 0);">memset</span>(<span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">-</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 128); font-weight: bold;">sizeof</span>(<span style="color: rgb(0, 0, 0);">dp</span>));<span style="color: rgb(0, 136, 0); font-style: italic;">//初始化 在开始构建塔之前 所有的高度差均未出现</span><br> <span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 255);">0</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(0, 0, 0);">=</span> <span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">^</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 255);">0</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(0, 0, 0);">=</span> <span style="color: rgb(0, 0, 255);">0</span>;<span style="color: rgb(0, 136, 0); font-style: italic;">//初始化 开始构建 左右塔的高度都为0 高度差为0</span><br> <span style="color: rgb(0, 0, 128); font-weight: bold;">for</span>(<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(0, 0, 0);">=</span> <span style="color: rgb(0, 0, 255);">1</span>;<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(0, 0, 0);">&lt;=</span> n;<span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">++</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">^=</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 128); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">v</span>;<span style="color: rgb(0, 0, 0);">scanf</span>(<span style="color: rgb(0, 0, 255);">"%d"</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(0, 0, 0);">&amp;</span><span style="color: rgb(0, 0, 0);">v</span>);<br> <br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 128); font-weight: bold;">for</span>(<span style="color: rgb(0, 0, 128); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">j</span> <span style="color: rgb(0, 0, 0);">=</span> <span style="color: rgb(0, 0, 255);">0</span>;<span style="color: rgb(0, 0, 0);">j</span> <span style="color: rgb(0, 0, 0);">&lt;=</span> <span style="color: rgb(0, 0, 255);">2000</span>;<span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">++</span><span style="color: rgb(0, 0, 0);">){</span><span style="color: rgb(0, 136, 0); font-style: italic;">//把v添加到每一种高度差上去</span><br> <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 128); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">^</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(0, 0, 0);">!=</span> <span style="color: rgb(0, 0, 0);">-</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">){</span><span style="color: rgb(0, 136, 0); font-style: italic;">//这种高度差出现过 才更新</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 136, 0); font-style: italic;">//未出现的高度差 如果将每一种情况枚举出来 肯定是</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 136, 0); font-style: italic;">//有些高度差先出现 有些高度差后出现</span><br> <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 136, 0); font-style: italic;">//加在较大的一边 差值增加v</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 128); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">v</span> <span style="color: rgb(0, 0, 0);">&lt;</span> <span style="color: rgb(0, 0, 255);">2001</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(0, 0, 0);">=</span> <span style="color: rgb(0, 0, 0);">mymax</span>(<span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">^</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">]);</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 136, 0); font-style: italic;">//dp[flag][]为正在更新的新状态 dp[flag^1][]为上次的状态</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 136, 0); font-style: italic;">//加在较小的一边</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 128); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">v</span> <span style="color: rgb(0, 0, 0);">&lt;</span> <span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">){</span><span style="color: rgb(0, 136, 0); font-style: italic;">//较小的边仍然会比较高的低</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">-</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(0, 0, 0);">=</span> <span style="color: rgb(0, 0, 0);">mymax</span>(<span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">-</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">^</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">]</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">v</span>);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 128); font-weight: bold;">else</span><span style="color: rgb(0, 0, 0);">{</span><span style="color: rgb(0, 136, 0); font-style: italic;">//较小的边变得比较高的边高了</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">-</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">]</span> <span style="color: rgb(0, 0, 0);">=</span> <span style="color: rgb(0, 0, 0);">mymax</span>(<span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">v</span><span style="color: rgb(0, 0, 0);">-</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">^</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">]</span><span style="color: rgb(0, 0, 0);">+</span><span style="color: rgb(0, 0, 0);">j</span>);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">memcpy</span>(<span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">^</span><span style="color: rgb(0, 0, 255);">1</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 0);">dp</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">flag</span><span style="color: rgb(0, 0, 0);">],</span><span style="color: rgb(0, 0, 255);">2001</span>);<span style="color: rgb(0, 136, 0); font-style: italic;">//注意这里</span><br> <br> <span style="color: rgb(0, 0, 0);">}</span><span style="color: rgb(0, 136, 0); font-style: italic;">//结果保存在dp[flag^1][0]中</span><br></div><br><br>  <br><hr><br><p><a rel="nofollow" href="http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemId=1059">ZOJ -The Twin Towers</a><br>不好理解 = =、 <br>首先是为什么选择高度去DP，我试了下dp[i][j] = abs(i-j);（i,j为左右塔的高度）的方法 行不通，状态之间不好比较、更新，就算能写出来 差不多也是枚举的复杂度了<br>状态之间的转移有些麻烦 ，加上滚动数组就更晕了。看了很多解题报告，虽然写出来了 但感觉还是没有弄透<br></p>
		  </div>


