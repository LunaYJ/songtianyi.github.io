<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<header style="padding-bottom:50px">
<ul>
	<li style="float:left;padding-right:20px"><a href="../../index.html">Home</a></li>
</ul>
</header>

<style type="text/css">
	div{
		font-size:11pt;
	}
	p{
		text-indent:2em;/*段落缩进*/
		line-height:140%;/*行间距*/
	}
	blockquote {
		background:#f9f9f9;
		border-left:10px solid darkblue;
	}
	blockquote p {
		display:inline;
	}
</style>

<!--code examples

<a href=""></a>

<li><a style="text-decoration:none" href="#"></a></li>

<h2 id=""></h2>

<div style="text-align:center">
	<img  src="">
	<p>图 </p>
	</div>
		
	<sup>sup>

	<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;">
	</div>

	-->


	<div>

		<!--博文标题和作者信息-->
		<h2 style="text-align:center">Flooded!-二分答案/模拟</h2>
		<h5 style="text-align:right">update@2011-12-02</h5>
		     <div style="background:#fdfdfd;color:black;"><u>C++语言</u>: <a rel="nofollow" href="http://fayaa.com/code/">高亮代码由发芽网提供</a></div><br>     <div style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"> <span style="color: rgb(128, 128, 128);">/**</span><br> <span style="color: rgb(128, 128, 128);"> *返回0表示x==0，返回-1表示 x &lt; 0, 返回1表示 x &gt; 0</span><br> <span style="color: rgb(128, 128, 128);"> *accuracy(a-b) == 0, a == b 或者 fabs(a-b) &lt; eps</span><br> <span style="color: rgb(128, 128, 128);"> *accuracy(a-b) != 0, a != b 或者 fabs(a-b) &gt; eps</span><br> <span style="color: rgb(128, 128, 128);"> *accuracy(a-b) &lt;&nbsp; 0, a &lt;&nbsp; b 或者 a - b &lt; -eps</span><br> <span style="color: rgb(128, 128, 128);"> *accuracy(a-b) &gt;&nbsp; 0, a &gt;&nbsp; b 或者 a - b &gt; eps</span><br> <span style="color: rgb(128, 128, 128);"> *accuracy(a-b) &lt;= 0, a &lt;= b 或者 a - b &lt; eps</span><br> <span style="color: rgb(128, 128, 128);"> *accuracy(a-b) &gt;= 0, a &gt;= b 或者 a - b &gt; -eps</span><br> <span style="color: rgb(128, 128, 128);"> */</span><br> <span style="color: rgb(80, 112, 144);">#define eps 1e-12</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">accuracy</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">double</span> <span style="color: rgb(0, 0, 0);">x</span><span style="color: rgb(0, 0, 0);">){</span> <span style="color: rgb(0, 128, 0); font-weight: bold;">return</span> <span style="color: rgb(0, 0, 0);">x</span> <span style="color: rgb(48, 48, 48);">&lt;</span> <span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 0);">eps</span><span style="color: rgb(48, 48, 48);">?-</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span><span style="color: rgb(48, 48, 48);">:</span>((<span style="color: rgb(0, 0, 0);">x</span> <span style="color: rgb(48, 48, 48);">&lt;</span> <span style="color: rgb(0, 0, 0);">eps</span>)<span style="color: rgb(48, 48, 48);">?</span><span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(48, 48, 48);">:</span><span style="color: rgb(0, 0, 208); font-weight: bold;">1</span><span style="color: rgb(0, 0, 0);">);}</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">isOk</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">double</span> <span style="color: rgb(0, 0, 0);">x</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128);">//尝试这个高度</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">double</span> <span style="color: rgb(0, 0, 0);">total</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>;<span style="color: rgb(0, 0, 0);">i</span> <span style="color: rgb(48, 48, 48);">&lt;</span> <span style="color: rgb(0, 0, 0);">m</span>;<span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">for</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">j</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span>; <span style="color: rgb(0, 0, 0);">j</span> <span style="color: rgb(48, 48, 48);">&lt;</span> n;<span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(48, 48, 48);">++</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">accuracy</span>(<span style="color: rgb(0, 0, 0);">x</span><span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 0);">square</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">])</span> <span style="color: rgb(48, 48, 48);">&gt;</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">total</span> <span style="color: rgb(48, 48, 48);">+=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">100</span><span style="color: rgb(48, 48, 48);">*</span>(<span style="color: rgb(0, 0, 0);">x</span> <span style="color: rgb(48, 48, 48);">-</span> <span style="color: rgb(0, 0, 0);">square</span><span style="color: rgb(0, 0, 0);">[</span><span style="color: rgb(0, 0, 0);">i</span><span style="color: rgb(0, 0, 0);">][</span><span style="color: rgb(0, 0, 0);">j</span><span style="color: rgb(0, 0, 0);">]);</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">return</span> <span style="color: rgb(0, 0, 0);">accuracy</span>(<span style="color: rgb(0, 0, 0);">total</span><span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 0);">all</span>);<br> <span style="color: rgb(0, 0, 0);">}</span><br> <span style="color: rgb(48, 48, 144); font-weight: bold;">double</span> <span style="color: rgb(0, 0, 0);">binaryTrial</span>(<span style="color: rgb(48, 48, 144); font-weight: bold;">double</span> <span style="color: rgb(0, 0, 0);">left</span><span style="color: rgb(0, 0, 0);">,</span><span style="color: rgb(48, 48, 144); font-weight: bold;">double</span> <span style="color: rgb(0, 0, 0);">right</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">double</span> <span style="color: rgb(0, 0, 0);">mid</span>;<br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">while</span>(<span style="color: rgb(0, 0, 0);">accuracy</span>(<span style="color: rgb(0, 0, 0);">left</span><span style="color: rgb(48, 48, 48);">-</span><span style="color: rgb(0, 0, 0);">right</span>) <span style="color: rgb(48, 48, 48);">&lt;</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">){</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">mid</span> <span style="color: rgb(48, 48, 48);">=</span> (<span style="color: rgb(0, 0, 0);">left</span> <span style="color: rgb(48, 48, 48);">+</span> <span style="color: rgb(0, 0, 0);">right</span>)<span style="color: rgb(48, 48, 48);">*</span><span style="color: rgb(96, 0, 224); font-weight: bold;">1.0</span><span style="color: rgb(48, 48, 48);">/</span><span style="color: rgb(0, 0, 208); font-weight: bold;">2</span>;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold;">int</span> <span style="color: rgb(0, 0, 0);">t</span>&nbsp; <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">isOk</span>(<span style="color: rgb(0, 0, 0);">mid</span>);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">if</span>(<span style="color: rgb(0, 0, 0);">t</span> <span style="color: rgb(48, 48, 48);">&lt;=</span> <span style="color: rgb(0, 0, 208); font-weight: bold;">0</span><span style="color: rgb(0, 0, 0);">){</span><span style="color: rgb(0, 0, 0);">left</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">mid</span><span style="color: rgb(0, 0, 0);">;}</span><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">else</span><span style="color: rgb(0, 0, 0);">{</span><span style="color: rgb(0, 0, 0);">right</span> <span style="color: rgb(48, 48, 48);">=</span> <span style="color: rgb(0, 0, 0);">mid</span><span style="color: rgb(0, 0, 0);">;}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0);">}</span><br> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold;">return</span> <span style="color: rgb(0, 0, 0);">mid</span>;<br> <span style="color: rgb(0, 0, 0);">}</span><br></div><br><hr><br>题目链接：<a rel="nofollow" href="http://poj.org/problem?id=1877">Flooded!</a><br>简单的二分答案，被精度卡到吐了，一直WA....后来又仔细弄了下精度..注意水的体积为0的情况。另一个解法，排序然后模拟..更直接，更简单。
			 </di>
